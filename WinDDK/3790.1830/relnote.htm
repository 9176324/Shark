<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<title>Late-Breaking News for the </title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceType"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceName"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:OfficeDocumentSettings>
  <o:RemovePersonalInformation/>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Normal</w:View>
  <w:Zoom>BestFit</w:Zoom>
  <w:HideSpellingErrors/>
  <w:HideGrammaticalErrors/>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:536871559 0 0 0 415 0;}
@font-face
	{font-family:"MS Sans Serif";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-alt:"Times New Roman";
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h4
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:4;
	font-size:12.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-noshow:yes;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.MsoCommentReference
	{mso-style-noshow:yes;
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-noshow:yes;
	mso-style-parent:"Comment Text";
	mso-style-next:"Comment Text";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-noshow:yes;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:8.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:399328182;
	mso-list-template-ids:-1246855754;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l0:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1
	{mso-list-id:810631799;
	mso-list-template-ids:939669370;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l1:level3
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l2
	{mso-list-id:910962254;
	mso-list-template-ids:536247710;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l2:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l2:level3
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l2:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3
	{mso-list-id:936790768;
	mso-list-template-ids:-723885048;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l4
	{mso-list-id:996688420;
	mso-list-type:hybrid;
	mso-list-template-ids:-1114350688 1373421752 1838962314 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l4:level1
	{mso-level-start-at:2;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.25in;}
@list l4:level2
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	margin-left:1.5in;
	text-indent:-.25in;}
@list l4:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5
	{mso-list-id:2146317339;
	mso-list-template-ids:1020590264;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l5:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal><b><span style='font-size:18.0pt;font-family:Verdana'>Windows&nbsp;Server&nbsp;2003
Service Pack&nbsp;1 (SP1<span class=GramE>)</span><br>
Driver Development Kit (DDK)</span></b><span style='font-size:10.0pt;
font-family:Verdana'> <o:p></o:p></span></p>

<p><b><span style='font-size:13.5pt;font-family:Verdana'><!----------------------Installation Issues---------------------------->Installation
Issues</span></b><span style='font-size:10.0pt;font-family:Verdana'> <o:p></o:p></span></p>

<h4 style='margin-left:.5in'><i><span style='font-family:Verdana'>Dirs</span></i><span
style='font-family:Verdana'> Files<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
method of generating <i>dirs</i> files has changed. The <i>dirs</i> file is now created by
the Microsoft<span style='mso-bidi-font-weight:normal'>®</span> Windows<span style='mso-bidi-font-weight:normal'>®</span> 
Driver Development Kit (DDK) setup program during kit installation. If the <i>dirs</i> file needs to be
recreated after installation of the kit, a command-line tool (<b>makedirs</b>) is
supplied in the <DDKRoot>\bin\x86 directory. The uninstall program also updates
the <i>dirs</i> file if Basic Uninstall is selected. <o:p></o:p></span></p>

<p><b><span style='font-size:13.5pt;font-family:Verdana'><!-------------------------Changes to the DDK Build Environment---------------------->The
DDK Build Environment</span></b><span style='font-size:10.0pt;font-family:Verdana'>
<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Use
the <span style='mso-bidi-font-weight:normal'>Microsoft®</span> Windows&nbsp;Server&#8482;&nbsp;2003
Service Pack&nbsp;1 (SP1) build environments in this DDK to build drivers
that use new features or functionality available only in
Windows&nbsp;Server&nbsp;2003.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Use
the <span style='mso-bidi-font-weight:normal'>Microsoft <span style='mso-bidi-font-weight:
bold'>Windows&nbsp;XP build environments</span></span> in this DDK to build
drivers that do not use new functionality as described above, and that are
targeted for either Windows&nbsp;XP or both Windows&nbsp;Server&nbsp;2003 and
Windows&nbsp;XP. The Windows&nbsp;XP build environment in this kit contains
minor updates to the DDK shipped with Windows&nbsp;XP with no service packs 
installed.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Use
the <span style='mso-bidi-font-weight:normal'>Microsoft <span style='mso-bidi-font-weight:
bold'>Windows&nbsp;2000 build environments</span></span> in this DDK to build
drivers that are designed to run on Windows&nbsp;2000 only, or
Windows&nbsp;2000 or later operating systems. The Windows&nbsp;2000 build
environment in this kit includes an update of headers and libraries for
Windows&nbsp;2000 Service Pack&nbsp;3 (SP3).<o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Changes to
Support Conditional Compilation Based on Build Environment<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
environment variable DDK_TARGET_OS has been introduced to allow conditional 
testing in the <i>sources</i> file to determine if a driver is being built
in the Windows&nbsp;2000 build environments. This variable is set to
&quot;WinNET&quot;, &quot;WinXP&quot;, or &quot;Win2K&quot;, respectively. For
more information, see &quot;DDK_TARGET_OS&quot; in the DDK documentation.<o:p></o:p></span></p>

<p><b><span style='font-size:13.5pt;font-family:Verdana'>Building DDK Samples
(See also Sample Issues) <o:p></o:p></span></b></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>All
samples included in this DDK build are without errors or warnings in the
Microsoft® Windows&nbsp;Server&#8482;&nbsp;2003 build environments and function
properly on Windows&nbsp;Server&nbsp;2003.<o:p></o:p></span></p>

<p style='margin-left:.5in'>
<span
style='font-size:10.0pt;font-family:Verdana;mso-bidi-font-weight:bold; mso-bidi-font-style:normal'>Some</span><span
style='font-size:10.0pt;font-family:Verdana'> of the samples may use new
features or functionality present for the first time in
Windows&nbsp;Server&nbsp;2003 Service Pack&nbsp;1 (SP1). These samples will not
build properly in the Windows®&nbsp;XP or Windows&nbsp;2000 build
environments. Similarly, <span style='mso-bidi-font-weight:bold'>some</span>
samples use features or functionality first present in Window&nbsp;XP. These
samples will not build properly in the Windows&nbsp;2000 build environments.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>If
you build the entire kit, samples that are not supported in the active build
environment <span style='mso-bidi-font-weight:normal'>will</span><span style='mso-bidi-font-weight:normal; font-style:italic'> 
not</span> be built
because of one (or more) of the following issues:<o:p></o:p></span></p>

<ul type=disc>
 <ul type=circle>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l0 level2 lfo3;tab-stops:list 1.0in'><span
      style='font-size:10.0pt;font-family:Verdana'>Changes to the driver's <i>
	sources</i> <o:p>file</o:p></span></li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l0 level2 lfo3;tab-stops:list 1.0in'><span
      style='font-size:10.0pt;font-family:Verdana'>Changes to one of the
      driver's <i>makefile </i>files</span></li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l0 level2 lfo3;tab-stops:list 1.0in'><span
      style='font-size:10.0pt;font-family:Verdana'>Changes to a <i>dirs</i> file</span></li>
 </ul>
</ul>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
result is that the correct set of drivers is always built when a Command Prompt
window is opened for a given build environment and the <b>build -<span
class=GramE>cZ</span></b> command is issued from the DDK's <i>src</i> directory.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>When
a Command Prompt window is opened for a given build environment, a user can
manually change directories using the <b>cd</b> command to the driver directory
that uses features or functionality that are not supported in that environment.
If the user attempts to build such a driver in an unsupported environment, and
the driver was blocked from building by a <i>dirs</i> file, the build command fails
with a variety of errors and/or warnings; this is the expected behavior.<o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Expected <st1:place
w:st="on"><st1:PlaceName w:st="on">Warnings</st1:PlaceName> <st1:PlaceName
 w:st="on">When</st1:PlaceName> <st1:PlaceType w:st="on">Building</st1:PlaceType></st1:place>
Samples <span class=GramE>Under</span> the Windows&nbsp;XP and Windows&nbsp;2000
Environments<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Some
samples in the Windows&nbsp;Server&nbsp;2003 SP1 DDK are not supported on
Windows&nbsp;XP and/or Windows&nbsp;2000. These samples now generate a warning
when they are built in a non-supported build environment. The warning, which
appears in the build warning log, is in the following format:<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-weight:bold'>BUILDMSG: Warning : The sample &quot;<path to sample>&quot;
is not valid for the current OS target</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Extensible
Firmware Interface (EFI)<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Developers
who want to build 64-bit Extensible Firmware Interface (EFI) executable images
for the Intel Itanium processor family can use the 64-bit DDK build
environments for compiling and linking images. This includes EFI-compliant
system firmware, EFI applications and option ROMs. EFI drivers and applications
will only run in the pre-boot EFI firmware environment before
Windows&nbsp;Server&nbsp;2003 or Windows&nbsp;XP is loaded. At this time, only
the 64-bit compiler and linker have been tested with the EFI Sample
Implementation releases and the Toolkit. For further information about EFI
specifications and sample source code, go to <a
href="http://developer.intel.com/technology/EFI">http://developer.intel.com/technology/EFI</a>.<o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Changes to the
Windows&nbsp;2000 Build Environment<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Additional
headers have been added to more completely match the headers shipped for the
Windows&nbsp;XP environment. This was necessary to allow some of the samples to
compile when built in the Windows&nbsp;2000 build environment.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>When
creating the Windows&nbsp;2000 build environment using the Start menu, the
environment variable BUILD_OPTIONS is set to exclude many samples from default
compilation under this environment. This has the following effects and
limitations, which apply only to the Windows&nbsp;2000 environment:<o:p></o:p></span></p>

<ul type=disc>
 <ul type=circle>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l0 level2 lfo3;tab-stops:list 1.0in'><span
      style='font-size:10.0pt;font-family:Verdana'>Running <b>build -cZ</b> from the 
	DDK root now results in a clean build with no errors or warnings. <o:p></o:p></span></li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l0 level2 lfo3;tab-stops:list 1.0in'><span
      style='font-size:10.0pt;font-family:Verdana'>Not all samples are built. <o:p></o:p></span></li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l0 level2 lfo3;tab-stops:list 1.0in'><span
      style='font-size:10.0pt;font-family:Verdana'>Does not prevent changing
      directories to an arbitrary sample directory and attempting to build it.
      When doing so, samples that do not work correctly in the
      Windows&nbsp;2000 build environment will still produce errors and/or
      warnings.</span></li>
 </ul>
</ul>
<p class=MsoNormal><span style='font-size:13.5pt;font-family:Verdana'><o:p>&nbsp;</o:p></span></p>

<p><b><span style='font-size:13.5pt;font-family:Verdana'><!-------------------------Compiling and Linking---------------------->Compiling
and Linking</span></b><span style='font-size:13.5pt;font-family:Verdana'><o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Tested Platforms
and Compilers<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
Microsoft® Windows® DDK ships a complete set of tools for building drivers.
These tools have been upgraded from those released with the Windows&nbsp;XP
DDK. As in the Windows&nbsp;XP DDK, Microsoft Visual C++</span><span style='font-size:10.0pt;font-family:Verdana'>®</span><span style='font-size:10.0pt;font-family:Verdana'> is no longer required
to be installed.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Use
the included tools for all Windows&nbsp;Server&#8482;&nbsp;2003,
Windows&nbsp;XP, and Windows&nbsp;2000, drivers. This version of the DDK does
not support building drivers using a version of Visual&nbsp;C++
other than the one supplied with the DDK.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Some
Windows Millennium Edition (Me) drivers, such as Microsoft DirectX® drivers for
that platform, may require Visual C++ version 6.0 to be installed for use
regardless of the platform being used to build the drivers. Later versions of
Visual C++ will not work in the Windows Me build environment.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>This
toolset has not been fully tested for use other than driver development.
Development work on this toolset is not complete.<o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Buffer Overflow
Checking and DriverEntry<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
Windows&nbsp;Server&nbsp;2003 Service Pack&nbsp;1 (SP1) DDK enables the /Gs
compiler option for both free and checked drivers built in the
Windows&nbsp;Server&nbsp;2003 build environment. This compiler option
implements stack buffer overflow checking. To support this feature, the
Windows&nbsp;Server&nbsp;2003 build environment set the driver entry point to
<b>GsDriverEntry</b>. <b>GsDriverEntry</b> performs some brief initialization, and then calls
the driver's <b>DriverEntry</b> entry point.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Experience
with using this switch at Microsoft has shown that the /Gs option adds very
little overhead to a kernel module and simultaneously helps to counter a
potential security risk.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Buffer
overflow checking can be turned off by setting the environment variable
BUFFER_OVERFLOW_CHECKS to 0 in the Windows&nbsp;Server&nbsp;2003 build
environment.<o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Updated
SetEnv.bat File<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
&lt;BASEDIR&gt;\SetEnv64.bat file has been merged into a &lt;BASEDIR&gt;\SetEnv.bat
file. The Windows&nbsp;Server&nbsp;2003 and Windows&nbsp;XP build environments
are supported with the &lt;BASEDIR&gt;\SetEnv.bat file; however, the command
line has been updated. For more information, see &quot;Using the <i>SetEnv.bat</i> 
Command Line&quot; in
the DDK documentation. <o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Building Binary
Compatible Drivers<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>
Typically, drivers
should be built in the build environment of the earliest operating
system that the driver supports. Therefore, a driver that needs to run on
Windows&nbsp;XP and Windows&nbsp;2000 should be built in the Windows&nbsp;2000
build environment.<o:p></o:p></span></p>

<p style='margin-left:.5in'><font size="2"><span style="font-family: Verdana">To 
enable your driver to use the additional features that are available on a more 
recent operating system, you can use technology-specific functions, such as
</span></font><span style='font-size:10.0pt;font-family:Verdana'> <b style='mso-bidi-font-weight:normal'>IoIsWdmVersionAvailable()</b>
and <b style='mso-bidi-font-weight:normal'>MmGetSystemRoutineAddress()</b><span style='mso-bidi-font-weight:normal'>.</span></span><span style='mso-bidi-font-weight:normal'></p>
</span>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Thorough
testing is required to determine whether a driver built for a more recent operating
system works properly on an earlier operating system. </span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>KeNumberProcessors
Definition Change<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
kernel variable <b>KeNumberProcessors</b> indicates the number of active CPUs
in the system on which a driver is running. The definition for this variable
has been changed in the Windows&nbsp;XP versions of <i style='mso-bidi-font-style:
normal'>ntddk.h</i> and <i style='mso-bidi-font-style:normal'>wdm.h</i> from a
pointer to a value. The Windows&nbsp;2000 definition of this variable required
that <b style='mso-bidi-font-weight:normal'>KeNumberProcessors</b> be
dereferenced (for example, <b style='mso-bidi-font-weight:normal'>*KeNumberProcessors</b>).
As a result of the variable&#8217;s change in , drivers built in the
Windows&nbsp;XP build environment must not dereference this variable (for
example, <b style='mso-bidi-font-weight:normal'>KeNumberProcessors</b>).<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Drivers
that fail to use <b style='mso-bidi-font-weight:normal'>KeNumberProcessors</b>
correctly receive an &quot;illegal indirection&quot; error at compile time.</span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Regardless
of the declaration used, drivers that properly reference <b style='mso-bidi-font-weight:
normal'>KeNumberProcessors</b>, according to the environment in which they are
built, work properly on Windows&nbsp;Server&nbsp;2003, Windows&nbsp;XP, and
Windows&nbsp;2000. Therefore, a driver that properly references <b
style='mso-bidi-font-weight:normal'>KeNumberProcessors</b>, and that is built
in the Windows&nbsp;2000 build environment, receives the proper value for this
variable when the driver is run on Windows&nbsp;Server&nbsp;2003,
Windows&nbsp;XP, or Windows&nbsp;2000.<o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>New SList
Implementation<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Additional
improvements have been added to the Windows&nbsp;XP and later implementations
of singly-linked lists (SLists).
The Windows&nbsp;2000 implementation of SLists remains in the DDK to enable
drivers built on Windows&nbsp;2000 to run unchanged on Windows&nbsp;XP and
later systems. The functions affected are <b style='mso-bidi-font-weight:normal'>ExInterlockedPopEntrySList()</b>
and <b style='mso-bidi-font-weight:normal'>ExInterlockedPushEntrySList()</b>,
as well as <b style='mso-bidi-font-weight:normal'>ExAllocateFromPagedLookasideList()</b>,
<b style='mso-bidi-font-weight:normal'>ExFreeToPagedLookasideList()</b>, <b
style='mso-bidi-font-weight:normal'>ExAllocateFromNPagedLookasideList()</b>,
and <b style='mso-bidi-font-weight:normal'>ExFreeToNPagedLookasideList()</b>.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
Windows&nbsp;XP and later implementation of these functions, by default, is
<i>not</i> binary compatible with the implementation on Windows&nbsp;2000. If your
driver uses SLists and needs to run on Windows&nbsp;2000, you should build your
driver in the Windows&nbsp;2000 build environment. Optionally, you can build
your driver in another build environment and use the Windows&nbsp;2000 SList
implementation by defining the symbol _WIN2K_COMPAT_SLIST_USAGE at compile
time, before including any other DDK header files. <o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Identifying
Obsolete Functions in Your Driver<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
DDK Windows&nbsp;Server&nbsp;2003 and Windows&nbsp;XP build environments include a feature 
that, when enabled, identifies obsolete functions in your driver. When
the environment variable DEPRECATE_DDK_FUNCTIONS is defined, the compiler
generates a warning message whenever an obsolete function or macro
from <i style='mso-bidi-font-style:normal'>ntddk.h</i> is referenced. For more 
information about the
obsolete functions, see the DDK documentation.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
compiler warning message shows both the line in your source file that invoked
the obsolete function and the line in <i style='mso-bidi-font-style:normal'>ntddk.h</i>
where the function is declared. The following example shows an error message:<o:p></o:p></span></p>

<p style='margin-left:.5in'><b><span style='font-size:10.0pt;font-family:Verdana'>\test\mydriver.c(1785)
: error C4996: 'RtlExtendedIntegerMultiply' was declared deprecated</span></b><span
style='font-size:10.0pt;font-family:Verdana'><o:p></o:p></span></p>

<p style='margin-left:.5in'><b><span style='font-size:10.0pt;font-family:Verdana'>winddk\WinXP\inc\ddk\wxp\ntddk.h(3106)
: error see declaration of 'RtlExtendedntegerMultiply'</span></b><span
style='font-size:10.0pt;font-family:Verdana'><o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>Each
of the functions that have been declared deprecated in <i style='mso-bidi-font-style:
normal'>ntddk.h</i> have comments that indicate which, if any, function or
mechanism you should use instead of the obsolete function. For more
information, see the DDK documentation. In the previous example, if you look
at line 3106 of <i style='mso-bidi-font-style:normal'>ntddk.h</i>, you'll find
the following declaration, which instructs you to use native 64-bit math
instead of RTL functions:<o:p></o:p></span></p>

<p style='margin-left:.5in'><b><span style='font-size:10.0pt;font-family:Verdana'>DECLSPEC_DEPRECATED_DDK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//
Use native __int64 math<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NTSYSAPI<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LARGE_INTEGER<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NTAPI<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RtlExtendedIntegerMultiply <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LARGE_INTEGER
Multiplicand,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONG
Multiplier<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</span></b><span
style='font-size:10.0pt;font-family:Verdana'><o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>This
feature helps developers discover functions in their drivers that are
obsolete. All of the functions that have been declared deprecated in the DDK
have been obsolete at least since Windows&nbsp;2000. Only a subset of functions
that are obsolete have been actually declared as deprecated. There might be other
obsolete functions, both in <i style='mso-bidi-font-style:normal'>ntddk.h</i>
and in other header files that have not yet been declared deprecated. Refer to the
DDK documentation for functions that are obsolete
or currently supported.<o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Predefined Paths<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>
The DDK, by default, will not use any pre-defined Include or Library paths
(as specified by the %include% and %lib% environment variables). This is due to
the stand-alone nature of the DDK and to avoid possible conflicts with other
installed source or compiler programs. Any drivers that need to alter the
search path for include files should use Includes=directive in the <i>sources</i>
file.<o:p></o:p></span></p>

<p><b><span style='font-size:13.5pt;font-family:Verdana'><!-------------------------WDM Audio Drivers---------------------->WDM
Audio Drivers</span></b><span style='font-size:10.0pt;font-family:Verdana'> <o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
Microsoft® Windows&nbsp;Server&#8482;&nbsp;2003 Service Pack&nbsp;1 (SP1) DDK
should be used for all WDM audio driver development. Please rebuild your driver
with this DDK to take advantage of recent changes and fixes. As of the
Windows&nbsp;Server&nbsp;2003 SP1 release, this DDK supports
Windows&nbsp;Server&nbsp;2003, Windows&nbsp;XP, and Windows&nbsp;2000. This DDK
does not support, nor do we recommend, the development of WDM audio drivers for
Windows 9<i style='mso-bidi-font-style:normal'>x</i>. The code samples that are
listed below will work interchangeably on the supported operating systems with
the INF files that are provided with the samples: <o:p></o:p></span></p>

<ul type=disc>
 <ul type=circle>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l2 level2 lfo7;tab-stops:list 1.0in'><i style='mso-bidi-font-style:
      normal'><span style='font-size:10.0pt;font-family:Verdana'>ac97</span></i><span
      style='font-size:10.0pt;font-family:Verdana'>&#8212;A sample audio
      driver that runs on an Intel motherboard with an integrated AC97
      controller. This sample shows how to write a WDM audio adapter driver
      that implements WavePci support for a PCI add-in card with scatter/gather
      direct memory access (DMA) capabilities. Included with this sample driver are additional
      subdirectories that contain sample code that works in conjunction with the
      driver. The subdirectories are named as follows: <o:p></o:p></span></li>
  <ul type=square>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>cpl</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;This sample shows how
       to write a control panel application. It requires that both the <i
       style='mso-bidi-font-style:normal'>proppage</i> sample DLL and the <i
       style='mso-bidi-font-style:normal'>ac97</i> sample driver be installed. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>driver</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;This is the sample
       audio driver for the AC97 controller. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>INFViewer</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;This subdirectory
       contains an HTML version of the driver's INF file with hot-linked
       references to INF sections and keyword definitions to facilitate easy
       exploration. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>proppage</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;This sample shows
       how to write a property-page DLL that gets loaded by the device manager
       when a user elects to display the properties of your device. In addition
       to displaying the default property sheets, the device manager also
       displays the property sheet that is defined in the sample. This sample
       DLL requires that the <i style='mso-bidi-font-style:normal'>ac97</i>
       sample driver be installed. <o:p></o:p></span></li>
  </ul>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l2 level2 lfo7;tab-stops:list 1.0in'><i style='mso-bidi-font-style:
      normal'><span style='font-size:10.0pt;font-family:Verdana'>ddksynth</span></i><span
      style='font-size:10.0pt;font-family:Verdana'>&#8212;Kernel-mode downloadable
      sounds (DLS) synthesizer. This sample can be adapted for a <st1:place
      w:st="on">MIDI</st1:place> output device as well. <o:p></o:p></span></li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l2 level2 lfo7;tab-stops:list 1.0in'><i style='mso-bidi-font-style:
      normal'><span style='font-size:10.0pt;font-family:Verdana'>dmusuart</span></i><span
      style='font-size:10.0pt;font-family:Verdana'>&#8212;MPU-401 miniport
      driver for processing Microsoft DirectMusic® and <st1:place w:st="on">MIDI</st1:place>
      input and output streams. This is the source code for the built-in DMusUART
      miniport driver in <i style='mso-bidi-font-style:normal'>portcls.sys</i>.
      Hardware vendors can adapt this sample to write their own custom miniport
      drivers. <o:p></o:p></span></li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l2 level2 lfo7;tab-stops:list 1.0in'><i style='mso-bidi-font-style:
      normal'><span style='font-size:10.0pt;font-family:Verdana'>fmsynth</span></i><span
      style='font-size:10.0pt;font-family:Verdana'>&#8212;FM-synth miniport
      driver for <st1:place w:st="on">MIDI</st1:place>. This sample driver
      provides an interface to a device that implements OPL3-style synthesis. This
      is the source code for the built-in FMSynth miniport driver in <i
      style='mso-bidi-font-style:normal'>portcls.sys</i>. Hardware vendors can
      adapt this sample to write their own custom miniport drivers. <o:p></o:p></span></li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l2 level2 lfo7;tab-stops:list 1.0in'><i style='mso-bidi-font-style:
      normal'><span style='font-size:10.0pt;font-family:Verdana'>gfx</span></i><span
      style='font-size:10.0pt;font-family:Verdana'>&#8212;The two GFX samples
      appear in the DDK for Windows&nbsp;Server&nbsp;2003 or later and Windows&nbsp;XP&nbsp;Service 
	Pack 1 (SP1). These samples implement support
      for a sample GFX (global effects) filter: <o:p></o:p></span></li>
  <ul type=square>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>driver</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;This sample GFX
       driver performs a simple data transformation on a stereo audio stream
       that is played through a pair of USB speakers. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>GFXProp</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;This sample
       implements a property page that the user accesses through the Windows
       Multimedia control panel to configure the GFX filter. <o:p></o:p></span></li>
  </ul>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l2 level2 lfo7;tab-stops:list 1.0in'><i style='mso-bidi-font-style:
      normal'><span style='font-size:10.0pt;font-family:Verdana'>mpu401</span></i><span
      style='font-size:10.0pt;font-family:Verdana'>&#8212;Stand-alone sample
      adapter driver. This adapter driver implements standard functionality for
      an MPU-401 MIDI interface device. The source code for this sample is
      quite small because it uses only the system-supplied miniport drivers
      that are implemented in <i style='mso-bidi-font-style:normal'>portcls.sys</i>.
      <o:p></o:p></span></li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l2 level2 lfo7;tab-stops:list 1.0in'><i style='mso-bidi-font-style:
      normal'><span style='font-size:10.0pt;font-family:Verdana'>msvad</span></i><span
      style='font-size:10.0pt;font-family:Verdana'>&#8212;Microsoft Virtual
      Audio Device. This is a collection of samples that all use the same
      &quot;virtual audio device&quot; in lieu of an actual hardware-based
      adapter driver. Each of these samples highlights one of the following
      different facets of the WDM audio driver architecture: <o:p></o:p></span></li>
  <ul type=square>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>ac3</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;Demonstrates
       support for a non-PCM audio data format. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>drmmult</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;Demonstrates
       support for multiple-stream audio with secure audio path (SAP)-protected content. For
       information about SAP, see the Platform SDK
       documentation. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>drmsimp</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;Demonstrates
       support for a single audio stream with SAP-protected content. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>ds2dhw</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;Demonstrates
       support for hardware-accelerated two-dimensional mixing for Microsoft
       DirectSound®. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>multstr</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;Demonstrates
       support for playback of multiple streams of PCM audio data. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>pcmex</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;Demonstrates
       support for a PCM audio format that is defined by the
       WAVEFORMATEXTENSIBLE structure. <o:p></o:p></span></li>
   <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
       auto;mso-list:l2 level3 lfo7;tab-stops:list 1.5in'><i style='mso-bidi-font-style:
       normal'><span style='font-size:10.0pt;font-family:Verdana'>simple</span></i><span
       style='font-size:10.0pt;font-family:Verdana'>&#8212;A skeleton
       reference implementation of an audio adapter driver upon which the other
       <i style='mso-bidi-font-style:normal'>msvad</i> sample drivers are
       built. <o:p></o:p></span></li>
  </ul>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l2 level2 lfo7;tab-stops:list 1.0in'><i style='mso-bidi-font-style:
      normal'><span style='font-size:10.0pt;font-family:Verdana'>sb16</span></i><span
      style='font-size:10.0pt;font-family:Verdana'>&#8212;Sound Blaster (SB) 16
      sample. This sample implements an audio adapter driver for an
      SB-compatible adapter card on an ISA bus. <o:p></o:p></span></li>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l2 level2 lfo7;tab-stops:list 1.0in'><i style='mso-bidi-font-style:
      normal'><span style='font-size:10.0pt;font-family:Verdana'>stdunk</span></i><span
      style='font-size:10.0pt;font-family:Verdana'>&#8212;Standard <b>IUnknown</b>
      sample. Skeleton implementation of a standard <b>IUnknown</b> interface
      that conforms to the port-class model for using COM in the kernel. <o:p></o:p></span></li>
 </ul>
</ul>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>For
more information about the samples, see the Readme documentation that
accompanies each of these samples in the DDK.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>
To install the portion of the DDK that contains the WDM audio driver
samples, complete the following instructions: <o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l4 level2 lfo9;tab-stops:list 1.5in'><![if !supportLists]><span
style='font-size:10.0pt;font-family:Verdana;mso-fareast-font-family:Verdana;
mso-bidi-font-family:Verdana'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>
<![endif]><span
style='font-size:10.0pt;font-family:Verdana'>Run the Windows DDK setup
application. <o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l4 level2 lfo9;tab-stops:list 1.5in'><![if !supportLists]><span
style='font-size:10.0pt;font-family:Verdana;mso-fareast-font-family:Verdana;
mso-bidi-font-family:Verdana'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>
<![endif]><span
style='font-size:10.0pt;font-family:Verdana'>From the list of component groups that
the setup application displays, under <b style='mso-bidi-font-weight:normal'>Windows
DDK</b>, select <b style='mso-bidi-font-weight:normal'>WDM Samples</b>, and
then select <b style='mso-bidi-font-weight:normal'>Audio Samples</b>. <o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>When
setup completes, you will find the audio driver samples in the src\wdm\audio
subdirectory under the main directory of your DDK installation. <o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>This
DDK release includes documentation for developing drivers to run with Windows
Millennium Edition (Me) and Windows 98, but it no longer provides build
environments for Windows Me or Windows 98. If you require those build
environments, and the related tools, refer to the
Windows&nbsp;XP SP1 DDK located in the archive
section on MSDN. <o:p></o:p></span></p>

<p><b><span style='font-size:13.5pt;font-family:Verdana'><!-------------------------Windows 2000 to Windows XP Compatability---------------------->Windows
Server 2003 Service Pack 1 (SP1), Windows XP, and Windows 2000 Compatibility</span></b><span
style='font-size:13.5pt;font-family:Verdana'><o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Windows Memory
Manager<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>A
change was made in the memory manager starting with Microsoft® Windows®&nbsp;XP
that affects how functions such as <b style='mso-bidi-font-weight:normal'>ZwMapViewOfSection</b>
and <b style='mso-bidi-font-weight:normal'>MmMapLockedPagesSpecifyCache</b>
work.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>In
the past (on Windows&nbsp;2000 and Windows&nbsp;NT® Server&nbsp;4.0), it was up
to the driver writer to ensure that the same physical page was not mapped with
different caching attributes, which is an error and can cause internal
processor corruption leading to undefined results.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>In
Windows&nbsp;XP and later, the memory manager catches this problem.
That is, when mapping the same physical page, the page must always be mapped
with the same caching attribute. If conflicting attributes are specified by the
caller of the above APIs, the Windows memory manager automatically tries to
determine and use the correct attribute. If the correct attribute cannot be determined,
then <b style='mso-bidi-font-weight:normal'>ZwMapViewOfSection</b> returns
STATUS_CONFLICTING_ADDRESSES and <b style='mso-bidi-font-weight:normal'>MmMapLockedPagesSpecifyCache</b>
returns NULL. </span><o:p></o:p></p>

<p><b><span style='font-size:13.5pt;font-family:Verdana'><!-------------------------------Sample Issues-------------------------->Sample
Issues</span></b><span style='font-size:13.5pt'><o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>Signed Sample
Installation<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>The
samples <i style='mso-bidi-font-style:normal'>moufiltr</i> and <i
style='mso-bidi-font-style:normal'>kbdfiltr</i> include INF files that
demonstrate the proper use of the &quot;CatalogFile=&quot; directive. The
catalog files (CATs) included in these samples are not true catalog files,
therefore, installation of the input samples <i style='mso-bidi-font-style:normal'>moufiltr</i>
and <i style='mso-bidi-font-style:normal'>kbfiltr</i> does not work. To
temporarily fix the installation, edit <i style='mso-bidi-font-style:normal'>moufiltr.inf</i>
and <i style='mso-bidi-font-style:normal'>kbfiltr.inf</i> by removing the line
that begins with &quot;CatalogFile=&quot; from the version section of each INF
file. Before distributing your drivers that use the &quot;CatalogFile=&quot;
INF directive, you must obtain a true catalog file from WHQL. <o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>IME Warnings
Under the Japanese System Locale<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>When
the system locale has been set to Japanese, the following warnings occur: <o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>cht\chajei\..\ime.rc(37)
: warning RC4093: unescaped newline in character constant in inactive code.<br>
cht\phon\..\ime.rc(37) : warning RC4093: unescaped newline in character
constant in inactive code.<br>
cht\quick\..\ime.rc(37) : warning RC4093: unescaped newline in character
constant in inactive code.<o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>These
warnings appear in both the free and checked builds. These warnings do not
cause any problems in the resulting drivers. <o:p></o:p></span></p>

<p><b><span style='font-size:13.5pt;font-family:Verdana'><!----------------------Tools---------------------------->Tools</span></b><span
style='font-size:13.5pt;font-family:Verdana'><o:p></o:p></span></p>

<div class="Section1">
	<h4 style="MARGIN-LEFT: 0.5in"><span style="FONT-FAMILY: Verdana">PREfast 
	Warning 314 on IoSetCompletionRoutine</span></h4>
	<p style="MARGIN-LEFT: 0.5in">
	<span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana">When building a driver 
	with PREfast, each invocation of the <b>IoSetCompletionRoutine</b> macro 
	results in PREfast warning 314:</span></p>
	<p style="MARGIN-LEFT: 1in"><b>
	<span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana">Incorrect order of 
	operations: bitwise-or has higher precedence than the conditional-expression 
	operator.</span></b></p>
	<p style="MARGIN-LEFT: 0.5in">
	<span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana">Ignore this warning. It 
	is a false positive result, not a driver error. To suppress this warning, 
	use the WINPFT filter. However, the filter might also suppress the reporting 
	of similar, but valid, errors in the driver.</span></div>
<h4 style='margin-left:.5in'><span style='font-family:Verdana'>FusionManifestValidator<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>For
the Microsoft® Windows&nbsp;Server&#8482;&nbsp;2003 Service Pack 1 (SP1) DDK, not all files may compile correctly
on a Windows®&nbsp;2000 computer using the FusionManifestValidator tool. This
will be fixed for future releases.<o:p></o:p></span></p>

<h4 style='margin-left:.5in'><span style='font-family:Verdana'>IrDA Tools<o:p></o:p></span></h4>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana'>For
the Windows&nbsp;Server&nbsp;2003 SP1 DDK, Itanium-based and x64-based platform
versions of the IrDA tools are not available.</span></p>
<div dir="ltr" align="left">
	<font face="Verdana" color="#800080" size="2">
	<span class="240405119-04032005">
	<h4 dir="ltr" style="MARGIN-LEFT: 0.5in" align="left"><b>
	<font face="Verdana" color="#000000" size="3">
	<span style="FONT-SIZE: 12pt; FONT-FAMILY: Verdana">Tracing Tools: Tracepdb, 
	Tracelog, Tracefmt</span></font></b></h4>
	<p dir="ltr" style="MARGIN-LEFT: 0.5in" align="left">
	<font face="Verdana" color="#000000" size="2">
	<span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana">The Windows&nbsp;Server&nbsp;2003 
	SP1 DDK documentation includes a new section, &quot;Tools for 
	Software Tracing,&quot; which provides updated documentation for Tracepdb, 
	Tracelog, and Tracefmt, and new documentation, including a Software Tracing 
	FAQ and instructions for tracing during system boot.</span></font></p>
	<p dir="ltr" style="MARGIN-LEFT: 0.5in" align="left">
	<font face="Verdana" color="#000000" size="2">
	<span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana">However, the 
	documentation lists some tool parameters that do not work in the versions 
	of the tracing tools included in the Windows Server&nbsp;2003 SP1 DDK. 
	Specifically, the following tool parameters do not work:</span></font></p>
	<p dir="ltr" style="MARGIN-LEFT: 1in; TEXT-INDENT: -0.25in" align="left">
	<font size="2" face="Verdana" color="#000000"><span style="font-size: 10pt">
	·</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><b><font face="Verdana" color="#000000" size="2"><span style="FONT-WEIGHT: bold; FONT-SIZE: 10pt; FONT-FAMILY: Verdana">tracelog 
	-dpcisr</span></font></b></p>
	<b><font face="Verdana" size="2">
	<span style="FONT-WEIGHT: bold; FONT-SIZE: 10pt; FONT-FAMILY: Verdana">
	<p dir="ltr" style="MARGIN-LEFT: 1in; TEXT-INDENT: -0.25in" align="left">
	<font color="#000000"><span style="font-size: 10pt">·</span><font face="Verdana"><font size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	</font><font size="2">tracelog -buffering</font></font></font></span></font></b></p>
	<p dir="ltr" style="MARGIN-LEFT: 1in; TEXT-INDENT: -0.25in" align="left">
	<font color="#000000"><font size="2" face="Verdana">
	<span style="font-size: 10pt">·</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><b><font face="Verdana" size="2"><span style="FONT-WEIGHT: bold; FONT-SIZE: 10pt; FONT-FAMILY: Verdana">tracepdb 
	-s</span></font></b></font></p>
	<p dir="ltr" style="MARGIN-LEFT: 0.5in" align="left">
	<font face="Verdana" color="#000000" size="2">
	<span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana">We apologize for any 
	inconvenience.</span></font></p>
	</span></font>
	<p>&nbsp;</div>

<p><b><span style='font-size:13.5pt;font-family:Verdana'><!----------------------Miscellaneous---------------------------->Miscellaneous</span></b><span
style='font-size:13.5pt;font-family:Verdana'><o:p></o:p></span></p>

<p style='margin-left:.5in'><span style='font-size:10.0pt;font-family:Verdana;
mso-bidi-font-weight:bold'>None</span><span style='font-size:10.0pt;font-family:
Verdana'>&nbsp;</span></p>

<p><b><span style='font-size:13.5pt;font-family:Verdana'><!----------------------Miscellaneous----------------------------></span></b>
<font size="4"><b><span style="font-family: Verdana">Late Breaking Release Notes</span></b></font></p>

<p style='margin-left:.5in'>
<span style='font-size:10.0pt;font-family:Verdana;
mso-bidi-font-weight:bold'>Please see our page on
<a href="http://www.microsoft.com/whdc/DevTools/default.mspx">
http://www.microsoft.com/whdc/DevTools/default.mspx</a> for any updates.</span></p>

<p align=center style='text-align:center'><span style='font-size:10.0pt;
font-family:Verdana'><a href="relnote.htm#top">Top of page</a> <o:p></o:p></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=624
 style='width:6.5in;mso-cellspacing:0in;mso-padding-alt:0in 5.4pt 0in 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:1.5pt'>
  <td style='background:aqua;padding:.75pt .75pt .75pt .75pt;height:1.5pt'>
  <p class=MsoNormal><span style='font-size:2.0pt;mso-bidi-font-size:12.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<p><span style='font-size:7.5pt;font-family:"MS Sans Serif"'>Copyright © 2005
Microsoft Corporation </span><span style='font-size:10.0pt;font-family:Verdana'><o:p></o:p></span></p>

</div>

</body>

</html>
