<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="atiwdm_files/filelist.xml">
<title>ATIWDM: WDM Streaming Video Capture Drivers for the ATI All-In-Wonder
and ATI All-In-Wonder Pro</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="country-region"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:LastAuthor>john osborne</o:LastAuthor>
  <o:Revision>3</o:Revision>
  <o:TotalTime>4</o:TotalTime>
  <o:Created>2004-10-07T22:31:00Z</o:Created>
  <o:LastSaved>2004-10-07T22:36:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>1027</o:Words>
  <o:Characters>5859</o:Characters>
  <o:Company>Microsoft Corporation</o:Company>
  <o:Lines>48</o:Lines>
  <o:Paragraphs>13</o:Paragraphs>
  <o:CharactersWithSpaces>6873</o:CharactersWithSpaces>
  <o:Version>11.6360</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:536871559 0 0 0 415 0;}
@font-face
	{font-family:"MS Sans Serif";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-alt:"Times New Roman";
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
h2
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:"Times New Roman";
	color:black;
	font-weight:bold;}
h3
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:13.5pt;
	font-family:"Times New Roman";
	color:black;
	font-weight:bold;}
h4
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:4;
	font-size:12.0pt;
	font-family:"Times New Roman";
	color:black;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:899680222;
	mso-list-template-ids:-487395868;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l0:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1
	{mso-list-id:985937635;
	mso-list-template-ids:-1152888468;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l2
	{mso-list-id:1024787104;
	mso-list-template-ids:-497637736;}
@list l3
	{mso-list-id:1257783265;
	mso-list-template-ids:-1040661620;}
@list l3:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
<meta name=Template content="C:\PROGRAM FILES\MICROSOFT OFFICE\OFFICE\html.dot">
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="3074"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white lang=EN-US link=blue vlink=purple style='tab-interval:.5in'
leftmargin=8>

<div class=Section1>

<h2><a name=MYSAMPLE><span style='font-family:Verdana'>ATIWDM</span></a><span
style='font-family:Verdana'>: WDM Streaming Video Capture Drivers for the ATI
All-In-Wonder and ATI All-In-Wonder Pro<o:p></o:p></span></h2>

<h3><span style='font-family:Verdana'>SUMMARY<o:p></o:p></span></h3>

<p><span style='font-size:10.0pt;font-family:Verdana'>The ATIWDM project
creates four separate drivers that control the ATI All-In-Wonder video capture
hardware:&nbsp;&nbsp; <o:p></o:p></span></p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo3;tab-stops:list .5in'><span style='font-size:10.0pt;
     font-family:Verdana'>ATIBT829.sys, the main video capture driver, controls
     the <span class=SpellE>Brooktree</span> BT829 video digitizer <o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo3;tab-stops:list .5in'><span class=SpellE><span
     style='font-size:10.0pt;font-family:Verdana'>ATIXBar.sys</span></span><span
     style='font-size:10.0pt;font-family:Verdana'> controls the board level
     audio and video routing <o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo3;tab-stops:list .5in'><span class=SpellE><span
     style='font-size:10.0pt;font-family:Verdana'>ATITuneP.sys</span></span><span
     style='font-size:10.0pt;font-family:Verdana'> controls the <span
     class=SpellE>TVTuner</span> subsystem <o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo3;tab-stops:list .5in'><span class=SpellE><span
     style='font-size:10.0pt;font-family:Verdana'>ATITvSnd.sys</span></span><span
     style='font-size:10.0pt;font-family:Verdana'> controls the TV audio
     decoder subsystem<o:p></o:p></span></li>
</ul>

<p><b><span style='font-size:10.0pt;font-family:Verdana'>General<o:p></o:p></span></b></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>The ATIWDM drivers
control the All-In-Wonder (Pro) <span class=SpellE>videoport</span> based
capture device.&nbsp; This driver contains sample implementations for almost
all of the property sets involved in WDM video capture.&nbsp;&nbsp; <o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>The ATIWDM driver set
allows for easy replacement of a single subsystem without requiring complete
recompilation and redistribution of the entire driver set.&nbsp; For example,
the supplied <span class=SpellE>TvTuner</span> driver for the Philips FR1236
tuner could be replaced by a tuner from another vendor, without affecting the
drivers for the other hardware components.&nbsp;&nbsp; <o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>All of the drivers are
children of a parent device, either the Rage2 or Rage128 graphics chip.&nbsp;
The children query their parent for an I2C access table and then make calls
into the parent to perform I2C I/O operations. <o:p></o:p></span></p>

<p><b><span style='font-size:10.0pt;font-family:Verdana'>ATIBT829.sys<o:p></o:p></span></b></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p><span style='font-size:10.0pt;font-family:Verdana'>ATIBT829.sys appears as
two separate filters in a DirectShow graph:&nbsp; &quot;AtiBt829 Capture&quot;
and &quot;AtiBt829 Crossbar&quot;.&nbsp; Together these two filters control all
of the functionality present in the <span class=SpellE>Brooktree</span> 829
chip and control the capture process via the VPE Kernel mode
transport.&nbsp;&nbsp;<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>ATIBT829.sys is a fairly
complex driver, in that it supports an input stream representing analog video,
two capture streams for video and VBI data, and two output connection points
for <span class=SpellE>DDraw</span> surface allocation filters &quot;Overlay
Mixer&quot;, and &quot;VBI Surface <span class=SpellE>Allocator</span>&quot;.
It also supports input selection via &quot;BT829 Crossbar&quot;.<br>
<br>
The actual capture operation is implemented by an interface to Kernel
DirectDraw. Capture buffers are passed to <span class=SpellE>KDDraw</span>,
where they are filled by a bus master operation.<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>The capture filter
exposes four output streams and a single input stream.&nbsp; The output streams
are labeled Capture, VP (<span class=SpellE>videoport</span>), VPVBI (<span
class=SpellE>videoport</span> VBI) and VBI.&nbsp; The input stream is labeled <span
class=SpellE>AnalogVideoIn</span> and represents the analog video signal to be
digitized.&nbsp; The crossbar portion represents the input selection
multiplexer built into the <span class=SpellE>Brooktree</span> 829 device.<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>The <span class=SpellE>videoport</span>
driver is responsible for enumerating this device which causes the device
driver to be loaded.&nbsp;<o:p></o:p></span></p>

</blockquote>

<p><span class=SpellE><b><span style='font-size:10.0pt;font-family:Verdana'>ATIXBar.sys</span></b></span><b><span
style='font-size:10.0pt;font-family:Verdana'><o:p></o:p></span></b></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p><span style='font-size:10.0pt;font-family:Verdana'>ATIXBAR is a sample WDM
stream class Crossbar driver for the ATI All-In-Wonder and All-In-Wonder PRO
devices. It manifests itself in<span class=GramE>&nbsp; a</span> DirectShow
graph as &quot;ATI Crossbar&quot;, and controls the routing of analog video and
audio signals prior to digitization. It also handles audio muting. Note that
the All-In-Wonder exposes two crossbar filters. One is contained with the BT829
video digitizer <span class=SpellE>minidriver</span> (ATIBT829.SYS), and
controls video input selection. ATIXBAR controls all of the board specific
video routing and is a separate crossbar filter.<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>The <span class=SpellE>videoport</span>
driver is responsible for enumerating this device which causes the device
driver to be loaded.&nbsp;<o:p></o:p></span></p>

</blockquote>

<p><span class=SpellE><b><span style='font-size:10.0pt;font-family:Verdana'>ATITuneP.sys</span></b></span><b><span
style='font-size:10.0pt;font-family:Verdana'><o:p></o:p></span></b></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p><span style='font-size:10.0pt;font-family:Verdana'>ATITUNEP is a sample WDM
stream class <span class=SpellE>TVTuner</span> driver for the ATI All-In-Wonder
and All-In-Wonder PRO devices. It manifests itself in a <span class=SpellE>DShow</span>
graph as &quot;ATI <span class=SpellE>TVTuner</span>&quot;. It controls the following
tuner hardware (and any other hardware/software compatible devices):<br>
<br>
FR1236 - Philips FR1200 series TV and FM tuner family, including<span
class=GramE>:</span><br>
FI1216 - CCIR B, G System (Western Europe)<br>
FI1216J - RTMA M+N System (<st1:country-region w:st="on">Japan</st1:country-region>)<br>
FI1236 - RTMA M+N System (USA)<br>
FI1246 - CCIR I System (<st1:country-region w:st="on">UK</st1:country-region>, <st1:place
w:st="on"><st1:country-region w:st="on">Ireland</st1:country-region></st1:place>,
SA, H.K.)<br>
FI1256 - OIRT System (<st1:country-region w:st="on">China</st1:country-region>,
<st1:country-region w:st="on">Russia</st1:country-region>, E. Europe<span
class=GramE>)</span><br>
FI1216 - CCIR B,G, L, L1 System (W. Europe, SE Asia, OZ, NZ)<br>
FR1236MK2 - RTMN M+N System + FM (<st1:place w:st="on"><st1:country-region
 w:st="on">USA</st1:country-region></st1:place>)<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>The <span class=SpellE>videoport</span>
driver is responsible for enumerating this device which causes the device
driver to be loaded.&nbsp;<o:p></o:p></span></p>

</blockquote>

<p><span class=SpellE><b><span style='font-size:10.0pt;font-family:Verdana'>ATITvSnd.sys</span></b></span><b><span
style='font-size:10.0pt;font-family:Verdana'><o:p></o:p></span></b></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p><span style='font-size:10.0pt;font-family:Verdana'>ATITVSND is a sample WDM
stream class <span class=SpellE>TVSound</span> driver for the ATI All-In-Wonder
and All-In-Wonder PRO devices. It manifests itself in a <span class=SpellE>DShow</span>
graph as &quot;ATI <span class=SpellE>TVSound</span>&quot;. It controls
selection of audio <span class=SpellE>subchannels</span> (SAP) as well as
mono/stereo audio decoding.<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>The <span class=SpellE>videoport</span>
driver is responsible for enumerating this device which causes the device
driver to be loaded.&nbsp;<o:p></o:p></span></p>

</blockquote>

<p><b><span style='font-size:10.0pt;font-family:Verdana'>Keywords</span></b><span
style='font-size:10.0pt;font-family:Verdana'>: Video capture, WDM, stream
class, <span class=SpellE>TvTuner</span>, crossbar, driver, BT829, ATI.<o:p></o:p></span></p>

<h3><span style='font-family:Verdana'>BUILDING THE SAMPLE<o:p></o:p></span></h3>

<p><b><span style='font-size:10.0pt;font-family:Verdana'>NOTE</span></b><span
style='font-size:10.0pt;font-family:Verdana'> This sample will not build or
work on 64-bit platforms<o:p></o:p></span></p>

<p><! ---------------- Snip Snip ---------------- ><span style='font-size:10.0pt;
font-family:Verdana'>The sample is built with the standard DDK BUILD utility in
the standard checked or free DDK build environment. To build all drivers,
change to the ATIWDM directory and type &quot;build -<span class=SpellE>cez</span>&quot;.&nbsp;&nbsp;
</span></p>

<h3><span style='font-family:Verdana'>RESOURCES<o:p></o:p></span></h3>

<p><span style='font-size:10.0pt;font-family:Verdana'>This driver has been
tested with the following <span class=SpellE>applicatons</span>: Graphedt.exe,
AMCap.exe, <span class=GramE>WebTV</span> for Windows.<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>This website contains
general information on driver and hardware development:<o:p></o:p></span></p>

<p style='margin-left:1.0in'><a
href="http://www.microsoft.com/whdc/default.mspx">http://www.microsoft.com/whdc/default.mspx</a>
<span style='font-size:10.0pt;font-family:Verdana'><span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>This website contains
information on DirectShow:<o:p></o:p></span></p>

<p style='margin-left:1.0in'><a href="http://www.microsoft.com/directx">http://www.microsoft.com/directx</a>
</p>

<h3 style='margin-left:1.0in'><span style='font-family:Verdana'>&nbsp;<o:p></o:p></span></h3>

<h3><span style='font-family:Verdana'>CODE TOUR<o:p></o:p></span></h3>

<h4><span style='font-family:Verdana'>File Manifest<o:p></o:p></span></h4>

<pre><u>File<span style='mso-tab-count:2'>           </span>Description<o:p></o:p></u></pre><pre><span
style='font-family:Verdana'> <o:p></o:p></span></pre>

<h4>Programming Tour</h4>

<p><span class=SpellE><span class=GramE><span style='font-size:10.0pt;
font-family:Verdana'>DriverEntry</span></span></span><span class=GramE><span
style='font-size:10.0pt;font-family:Verdana'>(</span></span><span
style='font-size:10.0pt;font-family:Verdana'>) is the initial point of entry
for the driver. It initializes the hardware initialization structure and
registers the secondary entry point functions. <o:p></o:p></span></p>

<p><span class=SpellE><span style='font-size:10.0pt;font-family:Verdana'>HwReceivePacket</span></span><span
style='font-size:10.0pt;font-family:Verdana'> field describes the entry point
for receiving <span class=SpellE>SRBs</span> (Stream Request Packet) from
stream class driver. Here is a possible sequence of <span class=SpellE>SRBs</span>
that this driver may receive.<o:p></o:p></span></p>

<ol start=1 type=1>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo6;tab-stops:list .5in'><span style='font-size:10.0pt;
     font-family:Verdana'>SRB_INITIALIZE_DEVICE to initialize the device, and
     called after <span class=SpellE><span class=GramE>DriverEntry</span></span><span
     class=GramE>(</span>).<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo6;tab-stops:list .5in'><span style='font-size:10.0pt;
     font-family:Verdana'>SRB_GET_STREAM_INFO to get supported stream format.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo6;tab-stops:list .5in'><span style='font-size:10.0pt;
     font-family:Verdana'>SRB_GET_DATA_INTERSECTION to query a supported format
     given some key fields.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo6;tab-stops:list .5in'><span style='font-size:10.0pt;
     font-family:Verdana'>SRB_OPEN_STREAM to open a stream with supply format
     from SRB_GET_DATA_INTERSECTION. Two additional entry point functions are
     register for this stream for controlling the streaming state (<span
     class=SpellE>Srb</span>-&gt;<span class=SpellE>StreamObject</span>-&gt;<span
     class=SpellE>ReceiveControlPacket</span>) and for streaming data (<span
     class=SpellE>Srb</span>-&gt;<span class=SpellE>StreamObject</span>-&gt;<span
     class=SpellE>ReceiveDataPacket</span>). <o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo6;tab-stops:list .5in'><span style='font-size:10.0pt;
     font-family:Verdana'>SRB_CLOSE_STREAM to close the open stream.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo6;tab-stops:list .5in'><span style='font-size:10.0pt;
     font-family:Verdana'>SRB_UNINITIALIZE_DEVICE to indicate that a device has
     been unloaded or removed.<o:p></o:p></span></li>
</ol>

<p><span style='font-size:10.0pt;font-family:Verdana'>This driver also register
entry points for canceling packets (<span class=SpellE>HwCancelPacket</span>)
and for notifying if a packet has timeout (<span class=SpellE>HwRequestTimeoutHandler</span>).
<o:p></o:p></span></p>

<p><b><span style='font-size:10.0pt;font-family:Verdana'>Clocks<o:p></o:p></span></b></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>ATIBT829.sys, like most
video capture drivers, does not act as clock source for a filter graph. <o:p></o:p></span></p>

<p><b><span style='font-size:10.0pt;font-family:Verdana'>Frame rate and dropped
frames<o:p></o:p></span></b></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>Digital cameras support
discrete frame rates; however, a client application can request to stream at
any rate. It is required by WDM video capture driver to either match or select
the next lower frame rate available. Over sampling can cause synchronization
problems. <o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>The dropped frame
information is calculated instead of actual count, and it is based on the
capture rate and the actual counts of frames captured. <o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>&nbsp;<b>Work items<o:p></o:p></b></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>&nbsp;<o:p></o:p></span></p>

<p align=center style='text-align:center'><a href="#top"><span
style='font-size:10.0pt;font-family:Verdana'>Top of page</span></a><span
style='font-size:10.0pt;font-family:Verdana'> <o:p></o:p></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=624
 style='width:6.5in;mso-cellspacing:0in;mso-padding-alt:0in 5.4pt 0in 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:1.5pt'>
  <td style='background:aqua;padding:.75pt .75pt .75pt .75pt;height:1.5pt'>
  <p class=MsoNormal><span style='font-size:2.0pt;mso-bidi-font-size:12.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<p><span style='font-size:7.5pt;font-family:"MS Sans Serif"'>© 2004 Microsoft
Corporation</span><span style='font-size:10.0pt;font-family:Verdana'> <o:p></o:p></span></p>

</div>

</body>

</html>

